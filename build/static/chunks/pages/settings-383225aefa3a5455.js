(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{9471:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings",function(){return i(2957)}])},2957:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return M}});var t=i(5893),a=i(5988),o=i.n(a),r=i(6223),l=i.n(r),s=i(2914),c=i(1608),u=i(1555),d=i(5005),p=i(7294),v=[{name:"License Verification",link:"/license"},{name:"Create Profile",link:"/profile"},{name:"Connect Social Media",link:"/social"}],m=function(e){var n=e.currentStep,i=e.goToNextStep,a=(0,p.useState)(0),o=a[0],r=a[1];(0,p.useEffect)((function(){r(n)}),[n]);return(0,t.jsx)(t.Fragment,{children:v.map((function(e,n){return(0,t.jsx)("div",{className:l()["setting-side-nav"],onClick:function(){var e;i(e=n),r(e)},children:(0,t.jsx)("p",{className:l()["nav-text"].concat(n===o?" "+l()["active-link"]:o>n?" "+l().completed:""),children:e.name})},n)}))})},f=i(4051),h=i.n(f),x=i(5334),g=i.n(x),b=i(782),j=i(3707),y=i(5617),k=i(6487);function _(e,n,i,t,a,o,r){try{var l=e[o](r),s=l.value}catch(c){return void i(c)}l.done?n(s):Promise.resolve(s).then(t,a)}var N=function(e){var n=e.goToNextStep,i=(0,y.I0)();(0,p.useEffect)((function(){var e=JSON.parse(localStorage.getItem("user")||"");l({isInvalid:!1,value:null===e||void 0===e?void 0:e.license_number,err:""})}),[]);var a=(0,p.useState)({isInvalid:!1,value:"",err:""}),r=a[0],l=a[1],v=function(){var e,t=(e=h().mark((function e(t){var a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),r.value?(a={license_number:r.value},i((0,k.QP)()),j.K.updateProfile(a).then((function(e){setTimeout((function(){i((0,k.Zk)())}),1e3),localStorage.setItem("user",JSON.stringify(e)),b.Am.success("License Number added successfully",{position:b.Am.POSITION.TOP_RIGHT}),n(1)})).catch((function(e){setTimeout((function(){i((0,k.Zk)())}),1e3)}))):l({isInvalid:!0,value:r.value,err:"License Number is required !"});case 2:case"end":return e.stop()}}),e)})),function(){var n=this,i=arguments;return new Promise((function(t,a){var o=e.apply(n,i);function r(e){_(o,t,a,r,l,"next",e)}function l(e){_(o,t,a,r,l,"throw",e)}r(void 0)}))});return function(e){return t.apply(this,arguments)}}();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o(),{id:"ffdd5e1bbc24ca6e",children:".input-group-text.jsx-ffdd5e1bbc24ca6e{position:relative!important}"}),(0,t.jsxs)("div",{className:"jsx-ffdd5e1bbc24ca6e "+(g()["license-form"]+" px-3"||0),children:[(0,t.jsx)("h1",{className:"jsx-ffdd5e1bbc24ca6e "+(g().heading||""),children:"Enter your license number"}),(0,t.jsx)("p",{className:"jsx-ffdd5e1bbc24ca6e "+(g().description||""),children:"Enter your license number to create your profile"}),(0,t.jsx)(c.Z,{className:"mt-4",children:(0,t.jsx)(u.Z,{xs:12,md:11,children:(0,t.jsxs)(s.Z,{children:[(0,t.jsx)(s.Z.Control,{value:r.value,onChange:function(e){(""===e.currentTarget.value||/^[a-zA-Z0-9 ]+$/.test(e.currentTarget.value))&&l({isInvalid:!1,value:e.currentTarget.value,err:""})},className:g()["license-input"],type:"text"}),r.isInvalid&&(0,t.jsx)("div",{style:{color:"red",fontSize:"12px",marginTop:"5px"},className:"jsx-ffdd5e1bbc24ca6e",children:r.err}),(0,t.jsx)(d.Z,{className:g()["submit-btn"]+" mb-4",onClick:v,children:"Submit"})]})})})]})]})},I=i(9409),S=i.n(I),w=i(2150),T=i(9570),Z=i(5675),C=i(6099),P=i(5072),O=i(6594),L=i(4149),F=i.n(L);i(3421),i(1919);function E(e,n,i){return n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}function W(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{},t=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),t.forEach((function(n){E(e,n,i[n])}))}return e}var z=function(e){return W({},e,{borderRadius:7,opacity:"0.25%",spacing:W({},e.spacing,{controlHeight:44}),colors:W({},e.colors,{primary:"#0d6efd40"})})},A=function(e){var n=e.goToNextStep,i=(0,y.I0)(),a=(0,p.useState)([]),o=a[0],r=a[1],l=(0,p.useState)(C.Z),c=l[0],u=l[1],v=(0,p.useState)(),m=v[0],f=v[1],h=(0,p.useState)(null),x=h[0],g=h[1],_=(0,p.useState)([]),N=_[0],I=_[1],L=(0,p.useState)({isInvalid:!1,value:"",err:""}),E=L[0],A=L[1],Y=(0,p.useState)({isInvalid:!1,value:"",err:""}),R=Y[0],J=Y[1],q=(0,p.useState)({isInvalid:!1,value:"",err:""}),D=q[0],K=q[1],H=(0,p.useState)({isInvalid:!1,value:"",err:""}),Q=H[0],B=H[1],G=(0,p.useState)({isInvalid:!1,value:"",err:""}),U=G[0],V=G[1],M=(0,p.useState)({isInvalid:!1,label:"",value:"",err:""}),X=M[0],$=M[1];(0,p.useEffect)((function(){if(0===o.length){var e=[];w.a.forEach((function(n){e.push({label:n,value:n})})),r(e)}}),[o]),(0,p.useEffect)((function(){var e=JSON.parse(localStorage.getItem("user")||"");ee(e),g(e)}),[]);var ee=function(e){J({isInvalid:!1,value:null===e||void 0===e?void 0:e.company,err:""}),$({isInvalid:!1,value:null===e||void 0===e?void 0:e.location,label:null===e||void 0===e?void 0:e.location,err:""}),u((null===e||void 0===e?void 0:e.picture)?e.picture:C.Z),(null===e||void 0===e?void 0:e.tags)&&I(e.tags.split(",")),A({isInvalid:!1,value:null===e||void 0===e?void 0:e.phone_number,err:""}),"null"!=(null===e||void 0===e?void 0:e.job_title)&&K({isInvalid:!1,value:null===e||void 0===e?void 0:e.job_title,err:""}),"null"!=(null===e||void 0===e?void 0:e.bio)&&B({isInvalid:!1,value:null===e||void 0===e?void 0:e.bio,err:""}),"null"!=(null===e||void 0===e?void 0:e.site_username)&&V({isInvalid:!1,value:null===e||void 0===e?void 0:e.site_username,err:""})};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:S()["profile-top-section"]+" px-3",children:[(0,t.jsx)(Z.default,{className:S()["profile-pic"],src:c,width:"95px",height:"95px",alt:"profile picture"}),(0,t.jsxs)("div",{className:S()["user-info"],children:[(0,t.jsxs)("p",{className:S()["user-name"],children:[null===x||void 0===x?void 0:x.first_name," ",null===x||void 0===x?void 0:x.last_name," \xb7"," ",null===x||void 0===x?void 0:x.license_number]}),(0,t.jsx)("p",{className:S()["user-email"],children:null===x||void 0===x?void 0:x.email})]})]}),(0,t.jsx)("div",{children:(0,t.jsx)("div",{children:(0,t.jsxs)("p",{className:S()["helper-text"],children:[(0,t.jsx)("label",{htmlFor:"uploadImage",children:"Upload Photo"}),(0,t.jsx)("input",{accept:"image/png, image/jpeg",type:"file",className:"form-control-file d-none",id:"uploadImage",onChange:function(e){if(e.target.files[0]){var n=new FileReader;n.addEventListener("load",(function(){u(n.result)})),f(e.target.files[0]),n.readAsDataURL(e.target.files[0])}}})]})})}),(0,t.jsxs)(s.Z,{className:S().profile,children:[(0,t.jsx)(s.Z.Label,{style:{fontSize:"16px"},className:S()["profile-input-label"]+" mt-2",children:"Personalize Your Profile With Tags (ex: #veteran #ALC #CRS #tulanealum #gardendistrict)"}),(0,t.jsx)(F(),{className:S()["profile-input-label"]+" form-control",value:N,onChange:function(e){I(e)}}),(0,t.jsx)(s.Z.Label,{className:S()["profile-input-label"]+" mt-2",children:"Location"}),(0,t.jsx)(O.ZP,{selectProps:{isClearable:!0,placeholder:"Select your location",styles:{control:function(e,n){return W({},e,{border:"1px solid #888C94"})}},filterOption:(0,T.c)({ignoreCase:!0}),theme:z,value:X.value&&{value:X.value,label:X.value},onChange:function(e){$({isInvalid:!1,value:null===e||void 0===e?void 0:e.value.description,label:null===e||void 0===e?void 0:e.value,err:""})}},autocompletionRequest:{componentRestrictions:{country:["us"]},types:["(regions)"]},debounce:300,apiKey:"AIzaSyD6tHqQ-zN2Jfb_5W631kRV1lWFL-8OKqc"}),X.isInvalid&&(0,t.jsx)("div",{style:{color:"red",fontSize:"12px",marginTop:"5px"},children:X.err}),(0,t.jsx)(s.Z.Label,{className:S()["profile-input-label"]+" mt-4",children:"Phone#"}),(0,t.jsx)(s.Z.Control,{value:E.value,onChange:function(e){var n=function(e){if(!e)return e;var n=e.replace(/[^\d]/g,""),i=n.length;return i<4?n:i<7?"(".concat(n.slice(0,3),") ").concat(n.slice(3)):"(".concat(n.slice(0,3),") ").concat(n.slice(3,6),"-").concat(n.slice(6,10))}(e.currentTarget.value);A({isInvalid:!1,value:n,err:""})},className:S()["profile-input"],type:"tel",placeholder:"Phone number (123)123-1234"}),E.isInvalid&&(0,t.jsx)("div",{style:{color:"red",fontSize:"12px",marginTop:"5px"},children:E.err}),(0,t.jsx)(s.Z.Label,{className:S()["profile-input-label"]+" mt-4",children:"Company"}),(0,t.jsx)(s.Z.Control,{value:R.value,onChange:function(e){J({isInvalid:!1,value:e.currentTarget.value,err:""})},className:S()["profile-input"],type:"text",placeholder:"Company"}),R.isInvalid&&(0,t.jsx)("div",{style:{color:"red",fontSize:"12px",marginTop:"5px"},children:R.err}),(0,t.jsx)(s.Z.Label,{className:S()["profile-input-label"]+" mt-4",children:"Job Title (Optional)"}),(0,t.jsx)(s.Z.Control,{value:D.value,onChange:function(e){K({isInvalid:!1,value:e.currentTarget.value,err:""})},className:S()["profile-input"],type:"text",placeholder:"Job title"}),D.isInvalid&&(0,t.jsx)("div",{style:{color:"red",fontSize:"12px",marginTop:"5px"},children:D.err}),(0,t.jsx)(s.Z.Label,{className:S()["profile-input-label"]+" mt-4",children:"Bio (Optional)"}),(0,t.jsx)(s.Z.Control,{value:Q.value,onChange:function(e){B({isInvalid:!1,value:e.currentTarget.value,err:""})},as:"textarea",rows:4,className:S()["profile-input"]+" resize-none",type:"text",placeholder:"Describe yourself..."}),Q.isInvalid&&(0,t.jsx)("div",{style:{color:"red",fontSize:"12px",marginTop:"5px"},children:Q.err}),(0,t.jsx)(s.Z.Label,{className:S()["profile-input-label"]+" mt-4",children:"Username (Optional)"}),(0,t.jsx)(s.Z.Control,{value:U.value,onChange:function(e){V({isInvalid:!1,value:e.currentTarget.value,err:""})},className:S()["profile-input"],type:"text",placeholder:"@username"}),U.isInvalid&&(0,t.jsx)("div",{style:{color:"red",fontSize:"12px",marginTop:"5px"},children:U.err}),(0,t.jsx)("p",{className:S()["helper-text"]+" border-0 p-0",children:"This is how you can be found in the platform. You\u2019ll be found by your name and email as well."}),(0,t.jsx)(d.Z,{className:S()["submit-btn"]+" mb-3",onClick:function(){var e=new FormData;(function(){var e=!0;X.value||($({isInvalid:!0,value:X.value,label:X.value,err:"Location is required !"}),e=!1);R.value||(J({isInvalid:!0,value:R.value,err:"Company title is required !"}),e=!1);E.value?/^(\([0-9]{3}\) |[0-9]{3}-)[0-9]{3}-[0-9]{4}$/.test(E.value)||(A({isInvalid:!0,value:E.value,err:"Wrong Phone Format (e.g. (123) 123-1234 )"}),e=!1):(A({isInvalid:!0,value:E.value,err:"Phone number is required !"}),e=!1);return e})()&&(m&&e.append("picture",m),e.append("location",X.value),e.append("company",R.value),e.append("phone_number",E.value),e.append("bio",Q.value),e.append("job_title",D.value),e.append("site_username",U.value),e.append("tags",N.join(",")),i((0,k.QP)()),j.K.updateProfile(e).then((function(e){setTimeout((function(){i((0,k.Zk)())}),1e3),i((0,P.av)(e)),localStorage.setItem("user",JSON.stringify(e)),b.Am.success("Profile updated successfully",{position:b.Am.POSITION.TOP_RIGHT}),n(2)})).catch((function(e){setTimeout((function(){i((0,k.Zk)())}),1e3)})))},children:"Continue"})]})]})},Y=i(1968),R=i.n(Y),J=function(e){var n=e.name,i=e.image,a=e.description,o=(0,p.useState)(null),r=o[0],l=o[1];(0,p.useEffect)((function(){var e=JSON.parse(localStorage.getItem("user")||"");l(e)}),[r]);return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:R()["social-card"],children:[(0,t.jsxs)("div",{className:"d-flex justify-content-between align-items-center px-4",children:[(0,t.jsxs)("div",{className:"d-flex align-items-center",children:[(0,t.jsx)("div",{className:R()["social-icon"],children:(0,t.jsx)(Z.default,{src:i,width:"22px",height:"22px",alt:"card image"})}),(0,t.jsx)("h5",{className:"m-0 px-3 font-bold",children:(0,t.jsx)("b",{children:n})})]}),(null===r||void 0===r?void 0:r.instagram_data)&&"Facebook/Instagram"===n?(0,t.jsx)("a",{onClick:function(){},className:R()["connect-btn"]+" "+R().connected,children:"Connected"}):(0,t.jsx)("a",{onClick:function(){return function(e){if("Facebook/Instagram"===e)window.location.href="https://www.instagram.com/oauth/authorize?client_id=488762142642853&redirect_uri=https://staging.wickyick.com/settings/&scope=user_profile,user_media&response_type=code";else if("Tiktok"==e){var n=Math.random().toString(36).substring(2);window.location.href="https://open-api.tiktok.com/platform/oauth/connect/?client_key=awnsq0gmo2w3yjed&scope=user.info.basic,video.list&response_type=code&redirect_uri=www.staging.wickyick.com&state=".concat(n)}}(n)},className:R()["connect-btn"],children:"Connect"})]}),(0,t.jsx)("div",{className:R()["vertical-line"]}),(0,t.jsx)("div",{className:"py-3 px-4",children:(0,t.jsx)("p",{className:R()["social-description"],children:a})})]})})},q=i(8293),D=i(1691),K=i(3372),H=i(1163),Q=i(1602),B=[{name:"Facebook/Instagram",image:D.Z,description:"By connecting your account with your Facebook/Instagram account, you acknowledge and agree that information you choose to share will be uploaded to WickYick and may be viewed by WickYick and other WickYick\u2019s users. Also, your Facebook/Instagram account information may be used by WickYick. If you no longer want to share this information, please disconnect your Facebook/Instagram account."},{name:"Tiktok",image:q.Z,description:"By connecting your account with your Tiktok account, you acknowledge and agree that information you choose to share will be uploaded to WickYick and may be viewed by WickYick and other WickYick\u2019s users. Also, your Tiktok account information may be used by WickYick. If you no longer want to share this information, please disconnect your Tiktok account."},{name:"LinkedIn",image:K.Z,description:"By connecting your account with your LinkedIn account, you acknowledge and agree that information you choose to share will be uploaded to WickYick and may be viewed by WickYick and other WickYick\u2019s users. Also, your LinkedIn account information may be used by WickYick. If you no longer want to share this information, please disconnect your LinkedIn account."}],G=function(){var e=(0,p.useState)(0),n=e[0],i=e[1],a=(0,H.useRouter)().query.code,o=(0,H.useRouter)(),r=(0,y.I0)(),v=(0,Q.PR)();(0,p.useEffect)((function(){if(a&&(null===a||void 0===a?void 0:a.length)>0){i(2);var e={code:a};r((0,k.QP)()),j.K.sendInstagramCode(e).then((function(e){setTimeout((function(){r((0,k.Zk)())}),1e3),localStorage.setItem("user",JSON.stringify(e.user))})).catch((function(e){setTimeout((function(){r((0,k.Zk)())}),1e3)}))}}),[r,a]);return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:l()["setting-form"],children:(0,t.jsx)(s.Z,{children:(0,t.jsxs)(c.Z,{children:[(0,t.jsx)(u.Z,{xs:12,md:3,children:(0,t.jsx)(m,{goToNextStep:function(e){return i(e)},currentStep:n})}),(0,t.jsx)(u.Z,{xs:12,md:9,children:0===n?(0,t.jsx)("div",{style:{maxHeight:"700px",overflow:"auto"},children:(0,t.jsx)(N,{goToNextStep:function(e){return i(e)}})}):1===n?(0,t.jsx)("div",{children:(0,t.jsx)(c.Z,{children:(0,t.jsx)(u.Z,{xs:12,md:11,children:(0,t.jsx)(A,{goToNextStep:function(e){return i(e)}})})})}):(0,t.jsxs)(t.Fragment,{children:[B.map((function(e,n){return(0,t.jsx)(J,{name:e.name,image:e.image,description:e.description},n)})),(0,t.jsx)(d.Z,{className:l()["continue-btn"]+" mt-3",onClick:function(e){e.preventDefault(),function(){var e=new FormData;e.append("is_on_boarding_completed","True"),r((0,k.QP)()),j.K.updateProfile(e).then((function(e){setTimeout((function(){r((0,k.Zk)())}),1e3),r((0,P.av)(e)),localStorage.setItem("user",JSON.stringify(e)),b.Am.success("Profile completed successfully",{position:b.Am.POSITION.TOP_RIGHT}),o.push("agent-profile/".concat(v.pk))})).catch((function(e){setTimeout((function(){r((0,k.Zk)())}),1e3)}))}()},children:"Finish"})]})})]})})})})},U=i(3099),V=i(6923),M=(0,U.Z)((function(){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o(),{id:"c84e424fcecaf415",children:"body{background-color:#eef0f3}"}),(0,t.jsx)("div",{style:{background:"#EEF0F3",minHeight:"110vh",height:"auto",width:"100%",paddingBottom:"10%"},className:"jsx-c84e424fcecaf415",children:(0,t.jsx)("div",{className:"jsx-c84e424fcecaf415 "+(l()["header-wick-yick"]+" d-flex align-items-center"||0),children:(0,t.jsx)(G,{})})}),(0,t.jsx)(V.Z,{})]})}))},5334:function(e){e.exports={"license-form":"License_license-form__m9I4a",heading:"License_heading__hQGaq",description:"License_description__NHv2B","license-input":"License_license-input__OTWN_","license-input-label":"License_license-input-label__53CQl","submit-btn":"License_submit-btn__KobsT","helper-text":"License_helper-text__OCV30","select-count":"License_select-count__kK6DU","continue-btn":"License_continue-btn__FibVN","search-result":"License_search-result__bAKe5","total-locations":"License_total-locations__n6Jat"}}},function(e){e.O(0,[37,579,479,923,374,774,888,179],(function(){return n=9471,e(e.s=n);var n}));var n=e.O();_N_E=n}]);