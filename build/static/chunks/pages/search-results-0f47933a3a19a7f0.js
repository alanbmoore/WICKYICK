(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[199],{7438:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/search-results",function(){return n(3198)}])},1844:function(e,t,n){"use strict";n.d(t,{$:function(){return u}});var r=n(9669),i=n.n(r),o=n(1163);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}var c=i().create(),u=function(e,t,n,r,i){return new Promise((function(a,u){var l=localStorage.getItem("id_token"),d=s({},n);l&&(d=s({},d,{Authorization:"Token "+l})),c({url:"http://staging-api.wickyick.com/"+e,method:t,headers:d,data:r,params:i}).then((function(e){a(e)})).catch((function(e){var t;403===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)&&(localStorage.removeItem("id_token"),o.default.push("/")),u(e)}))}))}},683:function(e,t,n){"use strict";var r=n(5893),i=n(8182),o=n(5675),a=n(8408),s=n.n(a),c=n(4617);t.Z=function(e){var t=e.image,n=e.title,a=e.description,u=e.subDescription,l=e.width,d=e.height;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:s()["client-card"],children:(0,r.jsxs)(i.Z,{style:{width:"100%",borderRadius:"18px",border:0},children:[(0,r.jsx)(o.default,{className:t?s()["profile-pic"]:s()["profile-pic"]+" "+s()["user-icon"],src:t||c.Z,alt:"Picture of the agent",width:l,height:d}),(0,r.jsxs)(i.Z.Body,{className:s()["card-body"],children:[(0,r.jsx)(i.Z.Title,{className:s()["agent-name"],children:n}),(0,r.jsx)(i.Z.Text,{className:s()["agent-followers"]+" mb-0",children:a}),(0,r.jsx)(i.Z.Text,{className:s()["agent-location"],children:u})]})]})})})}},3198:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return P}});var r=n(5893),i=n(1840),o=n.n(i),a=n(682),s=n(2914),c=n(5005),u=n(1608),l=n(1555),d=n(7294),f=n(5617),p=n(5642);function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function g(e,t){return!t||"object"!==_(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}var _=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}var x={width:"50%%",height:"50%%"},w=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(a,e);var t,n,i,o=b(a);function a(){return h(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e,t,n=this.props.marker;return this.props.marker.length>0&&(0,r.jsxs)(p.Map,{className:"google-map",google:this.props.google,zoom:14,style:x,initialCenter:{lng:n&&(null===(e=n[0])||void 0===e?void 0:e.longitude),lat:n&&(null===(t=n[0])||void 0===t?void 0:t.latitude)},children:[this.props.marker.map((function(e){return(0,r.jsx)(p.Marker,{position:{lat:null===e||void 0===e?void 0:e.latitude,lng:null===e||void 0===e?void 0:e.longitude},children:(0,r.jsx)(p.InfoWindow,{children:(0,r.jsx)("div",{children:null===e||void 0===e?void 0:e.shelter})})},null===e||void 0===e?void 0:e.id)})),(0,r.jsx)(p.InfoWindow,{onClose:this.onClose,children:(0,r.jsx)("div",{children:"aas"})})]})}}])&&v(t.prototype,n),i&&v(t,i),a}(d.Component),j=(0,p.GoogleApiWrapper)({apiKey:"AIzaSyD6tHqQ-zN2Jfb_5W631kRV1lWFL-8OKqc"})(w),k=n(6487),C=n(3707),O=n(683),N=n(1163),Z=function(e){var t=e.keyword,n=(0,f.I0)(),i=(0,d.useState)([]),p=i[0],h=i[1],v=(0,d.useState)(""),m=v[0],g=v[1],y=(0,d.useState)([]),_=(y[0],y[1]),b=(0,d.useState)([]),x=b[0],w=b[1],Z=(0,d.useCallback)((function(e){e&&e.length>0&&(n((0,k.QP)()),C.K.getUserList({keyword:e}).then((function(e){setTimeout((function(){n((0,k.Zk)())}),1e3),h(e.results),_(e.count);var t=e.results.map((function(e,t){if(e.address)return{id:1,latitude:e.address.latitude,longitude:e.address.longitude,shelter:"marker "+t}}));w(t)})).catch((function(e){setTimeout((function(){n((0,k.Zk)())}),1e3)})))}),[n]);return(0,d.useEffect)((function(){Object.keys(t).length>0&&0===p.length&&(Z(t.keyword),g(t.keyword))}),[Z,t,p.length]),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(a.Z,{className:"mt-5",children:[(0,r.jsx)("div",{className:o()["search-result"],children:(0,r.jsx)(s.Z,{children:(0,r.jsxs)("div",{className:"position-relative",children:[(0,r.jsx)(s.Z.Control,{onChange:function(e){return g(e.target.value)},value:m,className:o()["search-input"]+" py-3",type:"text",placeholder:"City, State, Agent Name, Brokerage, #"}),(0,r.jsx)(c.Z,{onClick:function(){Z(m)},className:o()["search-btn"]+" position-absolute",children:"Search"})]})})}),(0,r.jsxs)(u.Z,{className:"mt-4",children:[(0,r.jsx)(l.Z,{xs:12,md:6,lg:6,children:(0,r.jsx)(u.Z,{children:p.map((function(e,t){return(0,r.jsx)(l.Z,{xs:12,md:5,lg:5,onClick:function(){N.default.push("/agent-profile/"+e.pk)},children:(0,r.jsx)(O.Z,{image:e.picture,title:e.first_name+" "+e.last_name,subDescription:e.location,description:e.bio,width:"270px",height:"200"})},t)}))})}),(0,r.jsx)(l.Z,{xs:12,md:6,lg:6,children:(0,r.jsx)(j,{marker:x})})]})]})})},P=function(){var e=(0,N.useRouter)().query;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{style:{minHeight:"110vh",height:"100vh",width:"100%",display:"flex"},children:(0,r.jsx)(Z,{keyword:e})})})}},3707:function(e,t,n){"use strict";n.d(t,{K:function(){return c}});var r=n(4051),i=n.n(r),o=n(1844);function a(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,i)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){a(o,r,i,s,c,"next",e)}function c(e){a(o,r,i,s,c,"throw",e)}s(void 0)}))}}var c={updateProfile:function(){var e=s(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"api/user/update/profile/",e.next=4,(0,o.$)("api/user/update/profile/","put",{},t);case 4:return n=e.sent,e.abrupt("return",n.data);case 8:throw e.prev=8,e.t0=e.catch(0),null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r?void 0:r.data;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),getUserList:function(){var e=s(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"api/user/users/",e.next=4,(0,o.$)("api/user/users/","get",{},{},t);case 4:return n=e.sent,e.abrupt("return",n.data);case 8:throw e.prev=8,e.t0=e.catch(0),null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r?void 0:r.data;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),getInstagramData:function(){var e=s(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="api/user/get-instagram-media/".concat(t,"/"),e.next=4,(0,o.$)(n,"get",{},{});case 4:return r=e.sent,e.abrupt("return",r.data);case 8:throw e.prev=8,e.t0=e.catch(0),null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a?void 0:a.data;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),sendInstagramCode:function(){var e=s(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"api/user/get-instagram-token/",e.next=4,(0,o.$)("api/user/get-instagram-token/","post",{},t);case 4:return n=e.sent,e.abrupt("return",n.data);case 8:throw e.prev=8,e.t0=e.catch(0),null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r?void 0:r.data;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}},8408:function(e){e.exports={"client-card":"Client-Card_client-card__2Rl9c","profile-pic":"Client-Card_profile-pic__ySaOW","user-icon":"Client-Card_user-icon__J2MlH","card-body":"Client-Card_card-body__I76EE","agent-name":"Client-Card_agent-name__2fnbx","agent-followers":"Client-Card_agent-followers__sF_vq","agent-location":"Client-Card_agent-location__LHMim"}},1840:function(e){e.exports={"search-result":"SearchResult_search-result__webmE","search-input":"SearchResult_search-input__TZL3n","search-btn":"SearchResult_search-btn__ticmO"}}},function(e){e.O(0,[774,669,290,642,888,179],(function(){return t=7438,e(e.s=t);var t}));var t=e.O();_N_E=t}]);